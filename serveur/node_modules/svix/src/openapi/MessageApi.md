# .MessageApi

All URIs are relative to *https://api.eu.svix.com*

Method | HTTP request | Description
------------- | ------------- | -------------
[**createMessageAttemptForEndpoint**](MessageApi.md#createMessageAttemptForEndpoint) | **POST** /api/v1/app/{app_id}/endpoint/{endpoint_id}/msg/test-attempt | Create Message Attempt For Endpoint
[**v1MessageCreate**](MessageApi.md#v1MessageCreate) | **POST** /api/v1/app/{app_id}/msg | Create Message
[**v1MessageEvents**](MessageApi.md#v1MessageEvents) | **GET** /api/v1/app/{app_id}/events | Message Events
[**v1MessageEventsSubscription**](MessageApi.md#v1MessageEventsSubscription) | **GET** /api/v1/app/{app_id}/events/subscription/{subscription_id} | Message Events Subscription
[**v1MessageEventsSubscriptionCreateToken**](MessageApi.md#v1MessageEventsSubscriptionCreateToken) | **POST** /api/v1/app/{app_id}/events/subscription/{subscription_id}/create-token | Message Events Create Token
[**v1MessageExpungeContent**](MessageApi.md#v1MessageExpungeContent) | **DELETE** /api/v1/app/{app_id}/msg/{msg_id}/content | Delete message payload
[**v1MessageGet**](MessageApi.md#v1MessageGet) | **GET** /api/v1/app/{app_id}/msg/{msg_id} | Get Message
[**v1MessageGetRawPayload**](MessageApi.md#v1MessageGetRawPayload) | **GET** /api/v1/app/{app_id}/msg/{msg_id}/raw | Get Raw Message Payload
[**v1MessageList**](MessageApi.md#v1MessageList) | **GET** /api/v1/app/{app_id}/msg | List Messages


# **createMessageAttemptForEndpoint**
> MessageAttemptOut createMessageAttemptForEndpoint(messageIn)

Creates and sends a message to the specified endpoint. The message attempt and response from the endpoint is returned. FIXME: use MessageIn for expediency, even though the `application` parameter is unused. Since this endpoint isn\'t publicly documented anyway, it should be fine

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiCreateMessageAttemptForEndpointRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiCreateMessageAttemptForEndpointRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
    // The ep\'s ID or UID
  endpointId: "unique-ep-identifier",
  
  messageIn: {
    application: {
      metadata: {
        "key": "key_example",
      },
      name: "My first application",
      rateLimit: 1,
      uid: "unique-app-identifier",
    },
    channels: ["project_123","group_2"],
    eventId: "unique-msg-identifier",
    eventType: "user.signup",
    payload: {},
    payloadRetentionHours: 1,
    payloadRetentionPeriod: 90,
    tags: ["my_tag","other"],
    transformationsParams: {},
  },
    // The request\'s idempotency key (optional)
  idempotencyKey: "idempotency-key_example",
};

const data = await apiInstance.createMessageAttemptForEndpoint(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **messageIn** | **MessageIn**|  |
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **endpointId** | [**string**] | The ep\&#39;s ID or UID | defaults to undefined
 **idempotencyKey** | [**string**] | The request\&#39;s idempotency key | (optional) defaults to undefined


### Return type

**MessageAttemptOut**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: application/json
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**201** |  |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)

# **v1MessageCreate**
> MessageOut v1MessageCreate(messageIn)

Creates a new message and dispatches it to all of the application\'s endpoints.  The `eventId` is an optional custom unique ID. It\'s verified to be unique only up to a day, after that no verification will be made. If a message with the same `eventId` already exists for the application, a 409 conflict error will be returned.  The `eventType` indicates the type and schema of the event. All messages of a certain `eventType` are expected to have the same schema. Endpoints can choose to only listen to specific event types. Messages can also have `channels`, which similar to event types let endpoints filter by them. Unlike event types, messages can have multiple channels, and channels don\'t imply a specific message content or schema.  The `payload` property is the webhook\'s body (the actual webhook message). Svix supports payload sizes of up to ~350kb, though it\'s generally a good idea to keep webhook payloads small, probably no larger than 40kb.

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiV1MessageCreateRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiV1MessageCreateRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
  
  messageIn: {
    application: {
      metadata: {
        "key": "key_example",
      },
      name: "My first application",
      rateLimit: 1,
      uid: "unique-app-identifier",
    },
    channels: ["project_123","group_2"],
    eventId: "unique-msg-identifier",
    eventType: "user.signup",
    payload: {},
    payloadRetentionHours: 1,
    payloadRetentionPeriod: 90,
    tags: ["my_tag","other"],
    transformationsParams: {},
  },
    // When `true` message payloads are included in the response (optional)
  withContent: true,
    // The request\'s idempotency key (optional)
  idempotencyKey: "idempotency-key_example",
};

const data = await apiInstance.v1MessageCreate(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **messageIn** | **MessageIn**|  |
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **withContent** | [**boolean**] | When &#x60;true&#x60; message payloads are included in the response | (optional) defaults to true
 **idempotencyKey** | [**string**] | The request\&#39;s idempotency key | (optional) defaults to undefined


### Return type

**MessageOut**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: application/json
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**202** |  |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**413** | Payload too large |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)

# **v1MessageEvents**
> MessageEventsOut v1MessageEvents()

Reads the stream of created messages for an application

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiV1MessageEventsRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiV1MessageEventsRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
    // Limit the number of returned items (optional)
  limit: 1,
    // The iterator returned from a prior invocation (optional)
  iterator: "iterator_example",
    // Filter response based on the event type (optional)
  eventTypes: [
    "user.signup",
  ],
    // Filter response based on the event type (optional)
  channels: [
    "project_1337",
  ],
  
  after: new Date('1970-01-01T00:00:00.00Z'),
};

const data = await apiInstance.v1MessageEvents(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **limit** | [**number**] | Limit the number of returned items | (optional) defaults to undefined
 **iterator** | [**string**] | The iterator returned from a prior invocation | (optional) defaults to undefined
 **eventTypes** | **Array&lt;string&gt;** | Filter response based on the event type | (optional) defaults to undefined
 **channels** | **Array&lt;string&gt;** | Filter response based on the event type | (optional) defaults to undefined
 **after** | [**Date**] |  | (optional) defaults to undefined


### Return type

**MessageEventsOut**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**200** |  |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)

# **v1MessageEventsSubscription**
> MessageEventsOut v1MessageEventsSubscription()

Reads the stream of created messages for an application, but using server-managed iterator tracking.

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiV1MessageEventsSubscriptionRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiV1MessageEventsSubscriptionRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
    // The esub\'s ID or UID
  subscriptionId: "unique-esub-identifier",
    // Limit the number of returned items (optional)
  limit: 1,
    // The iterator returned from a prior invocation (optional)
  iterator: "iterator_example",
    // Filter response based on the event type (optional)
  eventTypes: [
    "user.signup",
  ],
    // Filter response based on the event type (optional)
  channels: [
    "project_1337",
  ],
  
  after: new Date('1970-01-01T00:00:00.00Z'),
};

const data = await apiInstance.v1MessageEventsSubscription(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **subscriptionId** | [**string**] | The esub\&#39;s ID or UID | defaults to undefined
 **limit** | [**number**] | Limit the number of returned items | (optional) defaults to undefined
 **iterator** | [**string**] | The iterator returned from a prior invocation | (optional) defaults to undefined
 **eventTypes** | **Array&lt;string&gt;** | Filter response based on the event type | (optional) defaults to undefined
 **channels** | **Array&lt;string&gt;** | Filter response based on the event type | (optional) defaults to undefined
 **after** | [**Date**] |  | (optional) defaults to undefined


### Return type

**MessageEventsOut**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**200** |  |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)

# **v1MessageEventsSubscriptionCreateToken**
> MessageSubscriberAuthTokenOut v1MessageEventsSubscriptionCreateToken()

Creates an auth token that can be used with the `v1.message.events-subscription` endpoint

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiV1MessageEventsSubscriptionCreateTokenRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiV1MessageEventsSubscriptionCreateTokenRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
    // The esub\'s ID or UID
  subscriptionId: "unique-esub-identifier",
    // The request\'s idempotency key (optional)
  idempotencyKey: "idempotency-key_example",
};

const data = await apiInstance.v1MessageEventsSubscriptionCreateToken(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **subscriptionId** | [**string**] | The esub\&#39;s ID or UID | defaults to undefined
 **idempotencyKey** | [**string**] | The request\&#39;s idempotency key | (optional) defaults to undefined


### Return type

**MessageSubscriberAuthTokenOut**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**200** |  |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)

# **v1MessageExpungeContent**
> void v1MessageExpungeContent()

Delete the given message\'s payload. Useful in cases when a message was accidentally sent with sensitive content.  The message can\'t be replayed or resent once its payload has been deleted or expired.

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiV1MessageExpungeContentRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiV1MessageExpungeContentRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
    // The msg\'s ID or UID
  msgId: "unique-msg-identifier",
};

const data = await apiInstance.v1MessageExpungeContent(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **msgId** | [**string**] | The msg\&#39;s ID or UID | defaults to undefined


### Return type

**void**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**204** | no content |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)

# **v1MessageGet**
> MessageOut v1MessageGet()

Get a message by its ID or eventID.

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiV1MessageGetRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiV1MessageGetRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
    // The msg\'s ID or UID
  msgId: "unique-msg-identifier",
    // When `true` message payloads are included in the response (optional)
  withContent: true,
};

const data = await apiInstance.v1MessageGet(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **msgId** | [**string**] | The msg\&#39;s ID or UID | defaults to undefined
 **withContent** | [**boolean**] | When &#x60;true&#x60; message payloads are included in the response | (optional) defaults to true


### Return type

**MessageOut**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**200** |  |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)

# **v1MessageGetRawPayload**
> MessageRawPayloadOut v1MessageGetRawPayload()

Get a message raw payload by its ID or eventID.

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiV1MessageGetRawPayloadRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiV1MessageGetRawPayloadRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
    // The msg\'s ID or UID
  msgId: "unique-msg-identifier",
};

const data = await apiInstance.v1MessageGetRawPayload(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **msgId** | [**string**] | The msg\&#39;s ID or UID | defaults to undefined


### Return type

**MessageRawPayloadOut**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**200** |  |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)

# **v1MessageList**
> ListResponseMessageOut v1MessageList()

List all of the application\'s messages.  The `before` and `after` parameters let you filter all items created before or after a certain date. These can be used alongside an iterator to paginate over results within a certain window.  Note that by default this endpoint is limited to retrieving 90 days\' worth of data relative to now or, if an iterator is provided, 90 days before/after the time indicated by the iterator ID. If you require data beyond those time ranges, you will need to explicitly set the `before` or `after` parameter as appropriate. 

### Example


```typescript
import { createConfiguration, MessageApi } from '';
import type { MessageApiV1MessageListRequest } from '';

const configuration = createConfiguration();
const apiInstance = new MessageApi(configuration);

const request: MessageApiV1MessageListRequest = {
    // The app\'s ID or UID
  appId: "unique-app-identifier",
    // Limit the number of returned items (optional)
  limit: 1,
    // The iterator returned from a prior invocation (optional)
  iterator: "msg_1srOrx2ZWZBpBUvZwXKQmoEYga2",
    // Filter response based on the channel (optional)
  channel: "project_1337",
    // Only include items created before a certain date (optional)
  before: new Date('1970-01-01T00:00:00.00Z'),
    // Only include items created after a certain date (optional)
  after: new Date('1970-01-01T00:00:00.00Z'),
    // When `true` message payloads are included in the response (optional)
  withContent: true,
    // Filter messages matching the provided tag (optional)
  tag: "project_1337",
    // Filter response based on the event type (optional)
  eventTypes: [
    "user.signup",
  ],
};

const data = await apiInstance.v1MessageList(request);
console.log('API called successfully. Returned data:', data);
```


### Parameters

Name | Type | Description  | Notes
------------- | ------------- | ------------- | -------------
 **appId** | [**string**] | The app\&#39;s ID or UID | defaults to undefined
 **limit** | [**number**] | Limit the number of returned items | (optional) defaults to undefined
 **iterator** | [**string**] | The iterator returned from a prior invocation | (optional) defaults to undefined
 **channel** | [**string**] | Filter response based on the channel | (optional) defaults to undefined
 **before** | [**Date**] | Only include items created before a certain date | (optional) defaults to undefined
 **after** | [**Date**] | Only include items created after a certain date | (optional) defaults to undefined
 **withContent** | [**boolean**] | When &#x60;true&#x60; message payloads are included in the response | (optional) defaults to true
 **tag** | [**string**] | Filter messages matching the provided tag | (optional) defaults to undefined
 **eventTypes** | **Array&lt;string&gt;** | Filter response based on the event type | (optional) defaults to undefined


### Return type

**ListResponseMessageOut**

### Authorization

[HTTPBearer](README.md#HTTPBearer)

### HTTP request headers

 - **Content-Type**: Not defined
 - **Accept**: application/json


### HTTP response details
| Status code | Description | Response headers |
|-------------|-------------|------------------|
**200** |  |  -  |
**400** | Bad request |  -  |
**401** | Unauthorized |  -  |
**403** | Forbidden |  -  |
**404** | Not Found |  -  |
**409** | Conflict |  -  |
**422** | Validation Error |  -  |
**429** | Too Many Requests |  -  |

[[Back to top]](#) [[Back to API list]](README.md#documentation-for-api-endpoints) [[Back to Model list]](README.md#documentation-for-models) [[Back to README]](README.md)


